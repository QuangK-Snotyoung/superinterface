{"version":3,"sources":["../src/utils.ts","../src/lib/optimistic/optimisticId.ts","../src/lib/optimistic/isOptimistic.ts","../src/lib/runSteps/serializeRunStep.ts","../src/lib/messages/serializeMessage.ts","../src/lib/threadIdStorage/key.ts","../src/lib/streams/enqueueJson.ts"],"sourcesContent":["export { optimisticId } from '@/lib/optimistic/optimisticId';\nexport { isOptimistic } from '@/lib/optimistic/isOptimistic';\nexport { serializeMessage } from '@/lib/messages/serializeMessage';\nexport { key as threadIdStorageKey } from '@/lib/threadIdStorage/key';\nexport { enqueueJson } from '@/lib/streams/enqueueJson';","import { uid } from 'radash';\nexport var optimisticId = () => \"-\".concat(uid(24));","import _ from 'lodash';\nexport var isOptimistic = _ref => {\n  var {\n    id\n  } = _ref;\n  return _.startsWith(id, '-');\n};","import { pick } from 'radash';\nexport var serializeRunStep = _ref => {\n  var {\n    runStep\n  } = _ref;\n  return pick(runStep, ['id', 'run_id', 'step_details', 'completed_at', 'cancelled_at', 'failed_at', 'status']);\n};","import { serializeRunStep } from '@/lib/runSteps/serializeRunStep';\nexport var serializeMessage = _ref => {\n  var _message$runSteps;\n  var {\n    message\n  } = _ref;\n  return {\n    id: message.id,\n    role: message.role,\n    created_at: message.created_at,\n    content: message.content,\n    run_id: message.run_id,\n    assistant_id: message.assistant_id,\n    thread_id: message.thread_id,\n    attachments: message.attachments,\n    metadata: message.metadata,\n    runSteps: ((_message$runSteps = message.runSteps) !== null && _message$runSteps !== void 0 ? _message$runSteps : []).map(runStep => serializeRunStep({\n      runStep\n    })),\n    status: message.status\n  };\n};","export var key = _ref => {\n  var {\n    assistantId\n  } = _ref;\n  return \"superinterface-\".concat(assistantId, \"-threadId\");\n};","export var enqueueJson = _ref => {\n  var {\n    controller,\n    value\n  } = _ref;\n  return controller.enqueue(new TextEncoder().encode(JSON.stringify(value)));\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,oBAAoB;AACb,IAAI,eAAe,MAAM,IAAI,WAAO,mBAAI,EAAE,CAAC;;;ACDlD,oBAAc;AACP,IAAI,eAAe,UAAQ;AAChC,MAAI;AAAA,IACF;AAAA,EACF,IAAI;AACJ,SAAO,cAAAA,QAAE,WAAW,IAAI,GAAG;AAC7B;;;ACNA,IAAAC,iBAAqB;AACd,IAAI,mBAAmB,UAAQ;AACpC,MAAI;AAAA,IACF;AAAA,EACF,IAAI;AACJ,aAAO,qBAAK,SAAS,CAAC,MAAM,UAAU,gBAAgB,gBAAgB,gBAAgB,aAAa,QAAQ,CAAC;AAC9G;;;ACLO,IAAI,mBAAmB,UAAQ;AACpC,MAAI;AACJ,MAAI;AAAA,IACF;AAAA,EACF,IAAI;AACJ,SAAO;AAAA,IACL,IAAI,QAAQ;AAAA,IACZ,MAAM,QAAQ;AAAA,IACd,YAAY,QAAQ;AAAA,IACpB,SAAS,QAAQ;AAAA,IACjB,QAAQ,QAAQ;AAAA,IAChB,cAAc,QAAQ;AAAA,IACtB,WAAW,QAAQ;AAAA,IACnB,aAAa,QAAQ;AAAA,IACrB,UAAU,QAAQ;AAAA,IAClB,YAAY,oBAAoB,QAAQ,cAAc,QAAQ,sBAAsB,SAAS,oBAAoB,CAAC,GAAG,IAAI,aAAW,iBAAiB;AAAA,MACnJ;AAAA,IACF,CAAC,CAAC;AAAA,IACF,QAAQ,QAAQ;AAAA,EAClB;AACF;;;ACrBO,IAAI,MAAM,UAAQ;AACvB,MAAI;AAAA,IACF;AAAA,EACF,IAAI;AACJ,SAAO,kBAAkB,OAAO,aAAa,WAAW;AAC1D;;;ACLO,IAAI,cAAc,UAAQ;AAC/B,MAAI;AAAA,IACF;AAAA,IACA;AAAA,EACF,IAAI;AACJ,SAAO,WAAW,QAAQ,IAAI,YAAY,EAAE,OAAO,KAAK,UAAU,KAAK,CAAC,CAAC;AAC3E;","names":["_","import_radash"]}