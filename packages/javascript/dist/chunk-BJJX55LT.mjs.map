{"version":3,"sources":["../../../node_modules/@vidstack/react/prod/chunks/vidstack-krOAtKMi.js"],"sourcesContent":["\"use client\"\n\nconst videoIdRE = /(?:https:\\/\\/)?(?:player\\.)?vimeo(?:\\.com)?\\/(?:video\\/)?(\\d+)(?:(?:\\?hash=|\\?h=|\\/)(.*))?/;\nconst infoCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveVimeoVideoId(src) {\n  const matches = src.match(videoIdRE);\n  return { videoId: matches?.[1], hash: matches?.[2] };\n}\nasync function getVimeoVideoInfo(videoId, abort, videoHash) {\n  if (infoCache.has(videoId)) return infoCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  let oembedSrc = `https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${videoId}`;\n  if (videoHash) {\n    oembedSrc = oembedSrc.concat(`?h=${videoHash}`);\n  }\n  const promise = window.fetch(oembedSrc, {\n    mode: \"cors\",\n    signal: abort.signal\n  }).then((response) => response.json()).then((data) => {\n    const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/, thumbnailId = data?.thumbnail_url?.match(thumnailRegex)?.[1], poster = thumbnailId ? `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.webp` : \"\", info = {\n      title: data?.title ?? \"\",\n      duration: data?.duration ?? 0,\n      poster,\n      pro: data.account_type !== \"basic\"\n    };\n    infoCache.set(videoId, info);\n    return info;\n  }).finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, promise);\n  return promise;\n}\n\nexport { getVimeoVideoInfo, resolveVimeoVideoId };\n"],"mappings":"AAEA,IAAMA,EAAY,6FACZC,EAA4B,IAAI,IAChCC,EAA+B,IAAI,IACzC,SAASC,EAAoBC,EAAK,CAChC,IAAMC,EAAUD,EAAI,MAAMJ,CAAS,EACnC,MAAO,CAAE,QAASK,IAAU,CAAC,EAAG,KAAMA,IAAU,CAAC,CAAE,CACrD,CACA,eAAeC,EAAkBC,EAASC,EAAOC,EAAW,CAC1D,GAAIR,EAAU,IAAIM,CAAO,EAAG,OAAON,EAAU,IAAIM,CAAO,EACxD,GAAIL,EAAa,IAAIK,CAAO,EAAG,OAAOL,EAAa,IAAIK,CAAO,EAC9D,IAAIG,EAAY,wEAAwEH,CAAO,GAC3FE,IACFC,EAAYA,EAAU,OAAO,MAAMD,CAAS,EAAE,GAEhD,IAAME,EAAU,OAAO,MAAMD,EAAW,CACtC,KAAM,OACN,OAAQF,EAAM,MAChB,CAAC,EAAE,KAAMI,GAAaA,EAAS,KAAK,CAAC,EAAE,KAAMC,GAAS,CACpD,IAAMC,EAAgB,8BAA+BC,EAAcF,GAAM,eAAe,MAAMC,CAAa,IAAI,CAAC,EAAGE,EAASD,EAAc,gCAAgCA,CAAW,kBAAoB,GAAIE,EAAO,CAClN,MAAOJ,GAAM,OAAS,GACtB,SAAUA,GAAM,UAAY,EAC5B,OAAAG,EACA,IAAKH,EAAK,eAAiB,OAC7B,EACA,OAAAZ,EAAU,IAAIM,EAASU,CAAI,EACpBA,CACT,CAAC,EAAE,QAAQ,IAAMf,EAAa,OAAOK,CAAO,CAAC,EAC7C,OAAAL,EAAa,IAAIK,EAASI,CAAO,EAC1BA,CACT","names":["videoIdRE","infoCache","pendingFetch","resolveVimeoVideoId","src","matches","getVimeoVideoInfo","videoId","abort","videoHash","oembedSrc","promise","response","data","thumnailRegex","thumbnailId","poster","info"]}